{"version":3,"sources":["test/client.test.ts"],"names":[],"mappings":"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","file":"test/client.test.js","sourcesContent":["import assert = require('assert')\r\nimport sinon = require('sinon')\r\nimport _proxyquire = require('proxyquire')\r\nimport {Client} from '../lib/client'\r\nlet proxyquire = _proxyquire.noCallThru()\r\n\r\ndescribe('Client', function () {\r\n\r\n  describe('expose all public apis', function () {\r\n\r\n    var options;\r\n    var requestHandlerFake;\r\n    var messagesFake;\r\n    var accountsFake;\r\n    var inboxFake;\r\n    var batchesFake;\r\n    var requestHandlerStub;\r\n    var messagesStub;\r\n    var accountsStub;\r\n    var inboxStub;\r\n    var batchesStub;\r\n    var client: Client;\r\n\r\n    before(function () {\r\n      options = {\r\n        some: 'option',\r\n        other: 'yes'\r\n      };\r\n      \r\n      requestHandlerFake = {};\r\n      messagesFake = {};\r\n      accountsFake = {};\r\n      inboxFake = {};\r\n      batchesFake = {};\r\n\r\n      requestHandlerStub = sinon.stub().returns(requestHandlerFake);\r\n      messagesStub = sinon.stub().returns(messagesFake);\r\n      accountsStub = sinon.stub().returns(accountsFake);\r\n      inboxStub = sinon.stub().returns(inboxFake);\r\n      batchesStub = sinon.stub().returns(batchesFake);\r\n\r\n      var module = proxyquire('../lib/client', {\r\n        './requesthandler': { RequestHandler: requestHandlerStub },\r\n        './messages': { Messages: messagesStub },\r\n        './accounts': { Accounts: accountsStub },\r\n        './inbox': { Inbox: inboxStub },\r\n        './batches': { Batches: batchesStub },\r\n      });\r\n      \r\n      client = new module.Client(options);\r\n    });\r\n\r\n    it('should create an instance of the request handler api', function () {\r\n      sinon.assert.calledWithNew(requestHandlerStub);\r\n      sinon.assert.calledWith(requestHandlerStub, options);\r\n    });\r\n\r\n    it('should create an instance of the messages api', function () {\r\n      sinon.assert.calledWithNew(messagesStub);\r\n    });\r\n\r\n    it('should create an instance of the accounts api', function () {\r\n      sinon.assert.calledWithNew(accountsStub);\r\n    });\r\n\r\n    it('should create an instance of the inbox api', function () {\r\n      sinon.assert.calledWithNew(inboxStub);\r\n    });\r\n\r\n    it('should create an instance of the batches api', function () {\r\n      sinon.assert.calledWithNew(batchesStub);\r\n    });\r\n\r\n    it('should expose all expected apis', function () {\r\n      assert.strictEqual(client.requesthandler, requestHandlerFake);\r\n      assert.strictEqual(client.messages, messagesFake);\r\n      assert.strictEqual(client.accounts, accountsFake);\r\n      assert.strictEqual(client.inbox, inboxFake);\r\n      assert.strictEqual(client.batches, batchesFake);\r\n    });\r\n\r\n  });\r\n\r\n});"],"sourceRoot":"../../src"}